<ion-header>
    <ion-navbar>
        <ion-title>{{list.name}}</ion-title>
        <ion-buttons end>
            <button ion-button icon-only>
                <ion-icon name="cloud-done" color="inactive" [hidden]="isUpdating"></ion-icon>
                <ion-spinner color="inactive" [hidden]="!isUpdating"></ion-spinner>
            </button>
        </ion-buttons>
    </ion-navbar>
</ion-header>

<ion-content padding>
    <ion-card *ngFor="let item of list.items">
        <ion-item class="item">
            <ion-checkbox [(ngModel)]="item.state.checked" color="secondary"></ion-checkbox>
            <ion-input type="text" [(ngModel)]="item.text" (ionBlur)="updateItem(item)"></ion-input>
            <button ion-button icon-only item-right clear (click)="presentActionSheet(item)">
                <ion-icon color="inactive" name="more"></ion-icon>
            </button>
        </ion-item>
    </ion-card>
    <ion-card>
        <ion-item>
            <ion-input text-center type="text" placeholder="+ Add Item" (ionBlur)="onBlur()" [(ngModel)]="newItem" (keyup.enter)="onBlur()"></ion-input>
        </ion-item>
    </ion-card>
</ion-content>